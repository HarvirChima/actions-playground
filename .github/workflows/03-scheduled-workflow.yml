# =============================================================================
# 03 - SCHEDULED WORKFLOW
# =============================================================================
# ğŸ¯ PURPOSE: Demonstrates how to run workflows on a schedule using cron syntax.
# Perfect for periodic tasks like nightly builds, cleanup jobs, or automated reports.
#
# ğŸ“š KEY CONCEPTS COVERED:
#   â€¢ schedule trigger with cron syntax
#   â€¢ Combining multiple triggers (schedule + workflow_dispatch)
#   â€¢ Understanding cron time expressions
#
# â° CRON SYNTAX EXPLAINED:
#   A cron expression has 5 fields: minute, hour, day of month, month, day of week
#   
#   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ minute (0 - 59)
#   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ hour (0 - 23)
#   â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ day of month (1 - 31)
#   â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ month (1 - 12 or JAN-DEC)
#   â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ day of week (0 - 6 or SUN-SAT)
#   â”‚ â”‚ â”‚ â”‚ â”‚
#   * * * * *
#
#   Special characters:
#   â€¢ '*' = any value
#   â€¢ ',' = value list separator (e.g., "1,3,5")
#   â€¢ '-' = range of values (e.g., "1-5")
#   â€¢ '/' = step values (e.g., "*/15" = every 15)
#
#   Examples:
#   â€¢ '0 0 * * *'     = Every day at midnight (00:00 UTC)
#   â€¢ '30 9 * * 1-5'  = 9:30 AM on weekdays (Mon-Fri)
#   â€¢ '0 */6 * * *'   = Every 6 hours
#   â€¢ '0 0 1 * *'     = First day of every month at midnight
#   â€¢ '*/15 * * * *'  = Every 15 minutes
#
# âš ï¸ IMPORTANT NOTES:
#   â€¢ All times are in UTC (not your local timezone!)
#   â€¢ GitHub may delay scheduled runs during high load periods
#   â€¢ Scheduled workflows only run on the default branch (usually 'main')
#   â€¢ The shortest interval is every 5 minutes (GitHub limit)
# =============================================================================

name: 03 - Scheduled Workflow

on:
  # SCHEDULE TRIGGER
  # Define one or more cron schedules for when this workflow should run.
  schedule:
    # This runs at 00:00 UTC every day.
    # Format: minute hour day-of-month month day-of-week
    - cron: '0 0 * * *'
    
    # You can have multiple schedules (uncomment to use):
    # - cron: '0 12 * * *'  # Also runs at noon UTC
  
  # WORKFLOW_DISPATCH: Also allow manual triggering for testing.
  # This is very useful because you don't want to wait for the schedule
  # to test your workflow - you can trigger it manually anytime.
  workflow_dispatch:

jobs:
  scheduled-job:
    name: Scheduled Job
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        
      # Display information about the scheduled run
      - name: Display schedule info
        run: |
          echo "This workflow runs on a schedule"
          echo "Current time: $(date)"
          echo "This could be used for:"
          echo "  - Nightly builds"
          echo "  - Periodic cleanup"
          echo "  - Automated reports"
          echo "  - Data synchronization"
          
      # Simulate a periodic maintenance task
      # In a real scenario, this could be:
      #   â€¢ Cleaning up old Docker images
      #   â€¢ Rotating logs
      #   â€¢ Generating reports
      #   â€¢ Running security scans
      #   â€¢ Syncing data between systems
      - name: Simulate periodic task
        run: |
          echo "Running periodic maintenance..."
          echo "Task completed successfully!"
