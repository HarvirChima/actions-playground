# 02 - MANUAL WORKFLOW DISPATCH
# Manual triggering with customizable inputs (choice, boolean, string)
# Run via: Actions tab → Select workflow → Run workflow

name: 02 - Manual Workflow Dispatch

on:
  workflow_dispatch:
    inputs:
      # CHOICE - dropdown menu
      environment:
        description: 'Environment to deploy to'
        required: true
        type: choice
        options: [dev, staging, production]
      
      # BOOLEAN - checkbox toggle
      enable-debug:
        description: 'Enable debug logging'
        required: false
        type: boolean
        default: false
      
      # STRING - free-form text
      custom-message:
        description: 'Custom message to display'
        required: false
        type: string
        default: 'Hello from workflow_dispatch!'

jobs:
  manual-trigger:
    name: Manual Trigger Job
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        
      # Access inputs via ${{ inputs.input-name }}
      - name: Display inputs
        run: |
          echo "Environment: ${{ inputs.environment }}"
          echo "Debug enabled: ${{ inputs.enable-debug }}"
          echo "Custom message: ${{ inputs.custom-message }}"
          
      # CONDITIONAL - 'if' controls step execution
      - name: Run debug commands
        if: ${{ inputs.enable-debug == true }}
        run: |
          echo "Debug mode is enabled!"
          env
          
      - name: Simulate deployment
        run: |
          echo "Deploying to ${{ inputs.environment }} environment..."
          echo "${{ inputs.custom-message }}"
